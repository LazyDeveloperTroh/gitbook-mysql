---
description: >-
  여러 커넥션에서 동시에 동일한 자원에 대한 작업을 요청할 경우 순서대로 처리할 수 있도록 제어하는 역할을 하고 이를 통해 데이터의 정합성을
  보장할 수 있다.
---

# 잠금

MySQL 에서 사용되는 잠금은 크게 스토리지 엔진 레벨과 MySQL 엔진 레벨로 나눌 수 있다. MySQL 엔진은 스토리지 엔진을 제외한 나머지 부분으로 이해할 수 있으며 MySQL 엔진 레벨의 잠금은 모든 스토리지 엔진에 영향을 미치지만, 스토리지 엔진 레벨의 잠근은 스토리지 엔진 간 상호 영향을 미치지 않는 차이가 있다.



### MySQL 엔진의 잠금

#### 글로벌 락

<mark style="background-color:green;">**MySQL에서 제공하는 잠금 가운데 가장 범위가 크며 한 세션에서 글로벌 락을 획득하면 다른 세션에서 SELECT 를 제외한 대부분의 DDL 문장이나 DML 문장을 실행하는 경우 글로벌 락이 해제될 때까지 해당 문장이 대기 상태로 남는다**</mark>. 글로벌 락이 영향을 미치는 범위는 MySQL 서버 전체이며, 작업 대상 테이블이나 데이터베이스가 다르더라도 동일하게 영향을 받는다. \
\
글로벌 락은 MySQL 서버의 모든 변경 작업을 멈춘다. 하지만 <mark style="background-color:yellow;">**MySQL 8.0 에서는 조금 더 가벼운 글로벌 락의 필요성을 위해 백업 락이 도입되었다.**</mark>

* 백업  락 : 특정 세션에서 백업 락을 획득하면 모든 세션에서 데이터베이스 및 테이블 등 모든 객체 생성 및 변경, 삭제, 사용자 관리 및 비밀번호 변경 등의 작업은 불가하지만 일반적인 테이블의 데이터 변경은 허용된다.



#### 테이블 락

<mark style="background-color:green;">**테이블 락은 개별 테이블 단위로 설정되는 잠금이며, 명시적 또는 묵시적으로 특정 테이블의 락을 획득할 수 있다**</mark>. <mark style="color:red;">**묵시적인 테이블 락은 MyISAM 이나 MEMORY 테이블에 데이터를 변경하는 경우 발생한다**</mark>. <mark style="color:red;">**하지만 InnoDB 테이블의 경우 스토리지 엔진 차원에서 레코드 기반의 잠금을 제공하기 때문에 DML의  경우는 테이블 락이 설정되지 않고 DDL 의 경우에만 테이블 락이 설정된다.**</mark>



#### 네임드 락

<mark style="background-color:green;">**네임드 락은 임의의 문자열에 대해 잠금을 설정할 수 있다. 이 잠금의 특징은 대상이 테이블이나 레코드 또는 테이터베이스 객체가 아니라는 것이다**</mark>. 네임드 락은 단순히 사용자가 지정한 문자열에 대해 획득하고 반납하는 잠금이다.

